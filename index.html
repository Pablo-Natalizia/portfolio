<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pablo Natalizia Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html { scroll-behavior: smooth; }
        body { margin: 0; padding: 0; background-color: #f8fafc; overflow-x: hidden; }

        header { position: sticky; top: 0; z-index: 100; }

        /* Footer con sello de seguridad */
        footer {
            position: sticky;
            bottom: 0;
            z-index: 100;
            background-color: white;
            border-top: 1px solid #e2e8f0;
            box-shadow: 0 -8px 15px rgba(0,0,0,0.05), 0 20px 0 20px white;
        }

        main { padding-top: 1rem; padding-bottom: 2rem; min-height: 100vh; }

        /* --- ESTILOS DE BANNERS --- */
        .banner-wrapper {
            position: relative;
            background: #ffffff;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            line-height: 0;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .banner-wrapper::after {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border: 1px solid #000000;
            pointer-events: none;
            z-index: 30;
        }

        /* --- RESPONSIVE MÃ“VIL --- */
        @media (max-width: 768px) {
            .banner-wrapper { display: block !important; margin: 0 auto !important; max-width: 100% !important; overflow: hidden; }
            .banner-wrapper[style*="width: 728px"] { width: 310px !important; height: 38px !important; margin: 10px auto; }
            .banner-wrapper[style*="width: 728px"] iframe { transform: scale(0.425); transform-origin: top left; width: 728px !important; height: 90px !important; }
            .banner-wrapper[style*="width: 300px"], .banner-wrapper[style*="width: 320px"] { transform: scale(0.92); transform-origin: center center; }
        }

        .loader-container { position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; background: #f8fafc; z-index: 10; }
        .loader { width: 20px; height: 20px; border: 2px solid #e2e8f0; border-bottom-color: #2563eb; border-radius: 50%; animation: rotation 1s linear infinite; }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .reload-btn { position: absolute; top: 5px; right: 5px; background: rgba(255, 255, 255, 0.9); border: 1px solid #e2e8f0; border-radius: 50%; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; cursor: pointer; opacity: 0; transition: opacity 0.2s; z-index: 40; }
        .banner-wrapper:hover .reload-btn { opacity: 1; }

        .category-header { width: 100%; display: flex; align-items: center; justify-content: center; margin: 2rem 0 1.5rem 0; }
        .category-header h2 { font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.1em; font-size: 0.7rem; padding: 0 1rem; white-space: nowrap; }
        .category-line { height: 1px; background: #e2e8f0; flex-grow: 1; }
    </style>
</head>
<body class="bg-gray-50">

    <header class="bg-slate-800 text-white py-2.5 shadow-md text-center">
        <div class="container mx-auto px-6">
            <h1 class="text-base font-bold tracking-tight">Pablo Natalizia Portfolio</h1>
            <p class="text-slate-400 text-[8px] uppercase tracking-[0.2em]">HTML5 Banner Development</p>
        </div>
    </header>

    <main class="container mx-auto px-4">
        <div id="gallery-container"></div>
    </main>

    <footer class="py-3 shadow-[0_-8px_20px_rgba(0,0,0,0.05)]">
        <div class="container mx-auto px-6 flex justify-center items-center">
            <a href="https://www.upwork.com/freelancers/pablonatalizia" target="_blank" class="flex items-center gap-2 text-slate-700 hover:text-green-600 transition-colors duration-200 group">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
                <span class="text-xs font-semibold tracking-wide">Contact me via Upwork</span>
            </a>
        </div>
    </footer>

    <script>
        const bannerGroups = [
            { nombre: "Medium Rectangles (300x250)", banners: Array.from({length: 8}, (_, i) => ({ ruta: `banners/300x250-0${i+1}/index.html`, ancho: 300, alto: 250 })) },
            { nombre: "Leaderboards (728x90)", banners: Array.from({length: 6}, (_, i) => ({ ruta: `banners/728x90-0${i+1}/index.html`, ancho: 728, alto: 90 })) },
            { nombre: "Half Page (300x600)", banners: Array.from({length: 4}, (_, i) => ({ ruta: `banners/300x600-0${i+1}/index.html`, ancho: 300, alto: 600 })) },
            { nombre: "Wide Skyscrapers (160x600)", banners: Array.from({length: 4}, (_, i) => ({ ruta: `banners/160x600-0${i+1}/index.html`, ancho: 160, alto: 600 })) },
            { nombre: "Mobile Banners (320x50)", banners: Array.from({length: 3}, (_, i) => ({ ruta: `banners/320x50-0${i+1}/index.html`, ancho: 320, alto: 50 })) }
        ];

        function hideLoader(id) { const loader = document.getElementById('loader-' + id); if (loader) loader.style.display = 'none'; }

        function reloadBanner(id) {
            const iframe = document.getElementById(id);
            const loader = document.getElementById('loader-' + id);
            if (iframe) {
                if (loader) loader.style.display = 'flex';
                const currentSrc = iframe.getAttribute('data-src');
                iframe.src = '';
                iframe.src = currentSrc;
            }
        }

        function renderGallery() {
            const container = document.getElementById('gallery-container');
            container.innerHTML = '';
            const observerOptions = { root: null, rootMargin: '400px', threshold: 0 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const iframe = entry.target;
                    const id = iframe.id;
                    const loader = document.getElementById('loader-' + id);
                    if (entry.isIntersecting) {
                        if (iframe.src !== iframe.getAttribute('data-src')) {
                            if (loader) loader.style.display = 'flex';
                            iframe.src = iframe.getAttribute('data-src');
                        }
                    } else { iframe.src = ''; }
                });
            }, observerOptions);

            bannerGroups.forEach((group, groupIndex) => {
                const section = document.createElement('section');
                section.className = "flex flex-col items-center w-full";
                section.innerHTML = `
                    <div class="category-header">
                        <div class="category-line"></div>
                        <h2>${group.nombre}</h2>
                        <div class="category-line"></div>
                    </div>
                    <div id="group-${groupIndex}" class="flex flex-wrap gap-10 justify-center items-start w-full"></div>
                `;
                container.appendChild(section);
                const groupGrid = document.getElementById(`group-${groupIndex}`);
                group.banners.forEach((banner, bannerIndex) => {
                    const id = `iframe-${groupIndex}-${bannerIndex}`;
                    const wrapper = document.createElement('div');
                    wrapper.className = "banner-wrapper mx-auto";
                    wrapper.style.width = banner.ancho + 'px';
                    wrapper.style.height = banner.alto + 'px';
                    wrapper.innerHTML = `
                        <div id="loader-${id}" class="loader-container"><span class="loader"></span></div>
                        <button class="reload-btn" title="Reload Banner" onclick="reloadBanner('${id}')">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 4v6h-6"></path><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>
                        </button>
                        <iframe id="${id}" data-src="${banner.ruta}" src="" width="${banner.ancho}" height="${banner.alto}" frameborder="0" scrolling="no" onload="hideLoader('${id}')" sandbox="allow-scripts allow-forms allow-same-origin"></iframe>
                    `;
                    groupGrid.appendChild(wrapper);
                    observer.observe(wrapper.querySelector('iframe'));
                });
            });
        }
        document.addEventListener('DOMContentLoaded', renderGallery);
    </script>
</body>
</html>