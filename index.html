<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pablo Natalizia Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        header { position: sticky; top: 0; z-index: 50; }
        footer { position: sticky; bottom: 0; z-index: 50; }

        .banner-wrapper {
            position: relative;
            background: #ffffff;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            line-height: 0;
            transition: all 0.3s ease;
            display: inline-block;
        }

        /* Borde negro 1px anti-recorte */
        .banner-wrapper::after {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border: 1px solid #000000;
            pointer-events: none;
            z-index: 30;
        }

        .banner-wrapper:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .loader-container {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            display: flex; align-items: center; justify-content: center;
            background: #f8fafc; z-index: 10;
        }
        .loader {
            width: 24px; height: 24px;
            border: 3px solid #e2e8f0; border-bottom-color: #2563eb;
            border-radius: 50%; display: inline-block;
            animation: rotation 1s linear infinite;
        }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .reload-btn {
            position: absolute;
            top: 8px; right: 8px;
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid #e2e8f0; border-radius: 50%;
            width: 34px; height: 34px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; opacity: 0; transition: opacity 0.2s; z-index: 40;
        }
        .banner-wrapper:hover .reload-btn { opacity: 1; }
        .reload-btn:hover { transform: rotate(180deg); color: #2563eb; }
        
        .category-header {
            width: 100%; display: flex; align-items: center; justify-content: center; margin: 2.5rem 0 1.5rem 0;
        }
        .category-header h2 {
            font-weight: 700; color: #64748b; text-transform: uppercase;
            letter-spacing: 0.1em; font-size: 0.75rem; padding: 0 1.5rem; white-space: nowrap;
        }
        .category-line { height: 1px; background: #e2e8f0; flex-grow: 1; }
        main { padding-top: 1rem; padding-bottom: 2rem; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">

    <header class="bg-slate-800 text-white py-2 shadow-md text-center">
        <div class="container mx-auto px-6">
            <h1 class="text-lg font-bold tracking-tight">Pablo Natalizia Portfolio</h1>
            <p class="text-slate-400 text-[9px] uppercase tracking-[0.2em]">Display Advertising Specialist</p>
        </div>
    </header>

    <main class="container mx-auto px-6 flex-grow">
        <div id="gallery-container"></div>
    </main>

    <footer class="bg-white border-t border-gray-200 py-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
        <div class="container mx-auto px-6 flex justify-center items-center">
            <a href="https://www.upwork.com/freelancers/pablonatalizia" target="_blank" class="flex items-center gap-2 text-slate-700 hover:text-green-600 transition-colors duration-200 group">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
                <span class="text-sm font-semibold tracking-wide">Contact me via Upwork</span>
            </a>
        </div>
    </footer>

    <script>
        const bannerGroups = [
            { 
                nombre: "Medium Rectangles (300x250)", 
                banners: [
                    { ruta: "banners/300x250-01/index.html", ancho: 300, alto: 250 },
                    { ruta: "banners/300x250-02/index.html", ancho: 300, alto: 250 },
                    { ruta: "banners/300x250-03/index.html", ancho: 300, alto: 250 },
                    { ruta: "banners/300x250-04/index.html", ancho: 300, alto: 250 },
                    { ruta: "banners/300x250-05/index.html", ancho: 300, alto: 250 },
                    { ruta: "banners/300x250-06/index.html", ancho: 300, alto: 250 },
                    { ruta: "banners/300x250-07/index.html", ancho: 300, alto: 250 },
                    { ruta: "banners/300x250-08/index.html", ancho: 300, alto: 250 }
                ] 
            },
            { 
                nombre: "Leaderboards (728x90)", 
                banners: [
                    { ruta: "banners/728x90-01/index.html", ancho: 728, alto: 90 },
                    { ruta: "banners/728x90-02/index.html", ancho: 728, alto: 90 },
                    { ruta: "banners/728x90-03/index.html", ancho: 728, alto: 90 },
                    { ruta: "banners/728x90-04/index.html", ancho: 728, alto: 90 },
                    { ruta: "banners/728x90-05/index.html", ancho: 728, alto: 90 },
                    { ruta: "banners/728x90-06/index.html", ancho: 728, alto: 90 }
                ] 
            },
            { 
                nombre: "Half Page (300x600)", 
                banners: [
                    { ruta: "banners/300x600-01/index.html", ancho: 300, alto: 600 },
                    { ruta: "banners/300x600-02/index.html", ancho: 300, alto: 600 },
                    { ruta: "banners/300x600-03/index.html", ancho: 300, alto: 600 },
                    { ruta: "banners/300x600-04/index.html", ancho: 300, alto: 600 }
                ] 
            },
            { 
                nombre: "Wide Skyscrapers (160x600)", 
                banners: [
                    { ruta: "banners/160x600-01/index.html", ancho: 160, alto: 600 },
                    { ruta: "banners/160x600-02/index.html", ancho: 160, alto: 600 },
                    { ruta: "banners/160x600-03/index.html", ancho: 160, alto: 600 },
                    { ruta: "banners/160x600-04/index.html", ancho: 160, alto: 600 }
                ] 
            },
            { 
                nombre: "Mobile Banners (320x50)", 
                banners: [
                    { ruta: "banners/320x50-01/index.html", ancho: 320, alto: 50 },
                    { ruta: "banners/320x50-02/index.html", ancho: 320, alto: 50 },
                    { ruta: "banners/320x50-03/index.html", ancho: 320, alto: 50 }
                ] 
            }
        ];

        function hideLoader(id) {
            const loader = document.getElementById('loader-' + id);
            if (loader) loader.style.display = 'none';
        }

        function reloadBanner(id) {
            const iframe = document.getElementById(id);
            const loader = document.getElementById('loader-' + id);
            if (iframe) {
                if (loader) loader.style.display = 'flex';
                const currentSrc = iframe.getAttribute('data-src');
                iframe.src = '';
                iframe.src = currentSrc;
            }
        }

        function renderGallery() {
            const container = document.getElementById('gallery-container');
            container.innerHTML = '';

            const observerOptions = { root: null, rootMargin: '200px', threshold: 0 };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const iframe = entry.target;
                    const id = iframe.id;
                    const loader = document.getElementById('loader-' + id);
                    if (entry.isIntersecting) {
                        if (iframe.src !== iframe.getAttribute('data-src')) {
                            if (loader) loader.style.display = 'flex';
                            iframe.src = iframe.getAttribute('data-src');
                        }
                    } else {
                        iframe.src = '';
                        if (loader) loader.style.display = 'none';
                    }
                });
            }, observerOptions);

            bannerGroups.forEach((group, groupIndex) => {
                const section = document.createElement('section');
                section.className = "flex flex-col items-center w-full";
                section.innerHTML = `
                    <div class="category-header">
                        <div class="category-line"></div>
                        <h2>${group.nombre}</h2>
                        <div class="category-line"></div>
                    </div>
                    <div id="group-${groupIndex}" class="flex flex-wrap gap-10 justify-center items-start w-full"></div>
                `;
                container.appendChild(section);
                
                const groupGrid = document.getElementById(`group-${groupIndex}`);
                group.banners.forEach((banner, bannerIndex) => {
                    const id = `iframe-${groupIndex}-${bannerIndex}`;
                    const wrapper = document.createElement('div');
                    wrapper.className = "banner-wrapper overflow-hidden";
                    wrapper.style.width = banner.ancho + 'px';
                    wrapper.style.height = banner.alto + 'px';

                    wrapper.innerHTML = `
                        <div id="loader-${id}" class="loader-container"><span class="loader"></span></div>
                        <button class="reload-btn" onclick="reloadBanner('${id}')">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 4v6h-6"></path><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>
                        </button>
                        <iframe 
                            id="${id}" 
                            data-src="${banner.ruta}" 
                            src=""
                            width="${banner.ancho}" 
                            height="${banner.alto}" 
                            frameborder="0" 
                            scrolling="no" 
                            onload="hideLoader('${id}')"
                            sandbox="allow-scripts allow-forms allow-same-origin">
                        </iframe>
                    `;
                    groupGrid.appendChild(wrapper);
                    observer.observe(wrapper.querySelector('iframe'));
                });
            });
        }
        document.addEventListener('DOMContentLoaded', renderGallery);
    </script>
</body>
</html>